<!DOCTYPE html>
<html
        lang="en"
        th:replace="~{base :: parent(~{::#content},~{::title},~{::script})}"
>
<head>
    <title>Home page</title>
</head>
<body class="dark:bg-gray-900 dark:text-white">

<div class="p-4 mt-16">
    <div id="content" class="w-full">
        <a href="/products" class="text-decoration-none"><i class="fa-solid fa-arrow-left"></i> Back</a>

        <div class="bg-gray-100 h-screen py-8">
            <div class=" px-8 py-4">
                <h1 class="text-2xl font-semibold mb-4">Shopping Cart</h1>
                <div class="flex justify-center">
                    <div class="w-full ">
                        <div class="bg-white rounded-lg shadow-md p-4">
                            <table class="w-full">
                                <thead>
                                <tr>
                                    <th class="text-left font-semibold">Product</th>
                                    <th class="text-left font-semibold">Ingredients</th>
                                    <th class="text-left font-semibold">Toppings</th>
                                    <th class="text-left font-semibold">Price</th>
                                    <th class="text-left font-semibold">Quantity</th>
                                    <th class="text-left font-semibold">Total</th>
                                    <th class="text-left font-semibold"></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="cart, c:${carts}">
                                    <td class="py-2 w-52">
                                        <div class="flex items-center">
                                            <img class="h-16 w-16 mr-4" th:src="@{${cart.product.productImage}}" alt="Product image">
                                            <span class="font-semibold px-4">[[${c.count}]]. [[${cart.product.name}]]</span>
                                        </div>
                                    </td>
                                    <td class="py-2 w-44">
                                        <div class="flex flex-wrap gap-1 max-w-xs">
                                            <span th:each="ingredient : ${cart.selectedIngredients}"
                                                  class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                                                [[${ingredient.name}]]
                                            </span>
                                            <span th:if="${cart.selectedIngredients == null or cart.selectedIngredients.isEmpty()}"
                                                  class="text-gray-500 text-s">
                                                No ingredients
                                            </span>
                                        </div>
                                    </td>
                                    <td class="py-2 w-44">
                                        <div class="flex flex-wrap gap-1 max-w-xs">
                                            <span th:each="topping : ${cart.selectedToppings}"
                                                  class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                                                [[${topping.name}]]
                                            </span>
                                            <span th:if="${cart.selectedToppings == null or cart.selectedToppings.isEmpty()}"
                                                  class="text-gray-500 text-sm">
                                                No toppings
                                            </span>
                                        </div>
                                    </td>
                                    <td class="py-2">[[${#numbers.formatCurrency(cart.product.discountPrice)}]]</td>
                                    <td class="py-2">
                                        <div class="flex items-center">
                                            <a th:href="@{'/user/cartQuantityUpdate?s=de&cid=' + ${cart.id}}">
                                             <i class="fa-solid fa-minus"></i></a> [[${cart.quantity}]]
                                           <a th:href="@{'/user/cartQuantityUpdate?s=in&cid=' + ${cart.id}}">
                                             <i class="fa-solid fa-plus"></i></a>
                                        </div>
                                    </td>
                                    <td class="py-2">[[${cart.totalPrice}]]</td>
                                    <td class="py-2">
                                        <a th:href="@{'/admin/deleteCart/' + ${cart.id}}"
                                           class="ml-2 text-red-600 hover:text-red-900"
                                           onclick="return confirm('Are you sure you want to delete this product?')">
                                            Delete
                                        </a>
                                    </td>
                                </tr>
                                <!-- More product rows -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div>
                        <div class="ml-8 w-96 px-4">
                            <div class="bg-white rounded-lg shadow-md p-6">
                                <h2 class="text-lg font-semibold mb-4">Summary</h2>
                                <div class="flex justify-between mb-2">
                                    <span>Subtotal</span>
                                    <span>[[${totalOrderPrice}]]</span>
                                </div>
                                <div class="flex justify-between mb-2">
                                    <span>Shipping</span>
                                    <span>$0.00</span>
                                </div>
                                <hr class="my-2">
                                <div class="flex justify-between mb-2">
                                    <span class="font-semibold">Total</span>
                                    <span class="font-semibold">[[${totalOrderPrice}]]</span>
                                </div>
                                <a href="/user/orders" class="bg-blue-500 text-white py-2 px-4 rounded-lg mt-4 w-full">Checkout</a>
                            </div>
                        </div>
                        <div class="ml-8 w-96 px-4 mt-4">
                            <div class="bg-white rounded-lg shadow-md p-6">
                                Note : Free Shipping charges under 7km.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    console.log("about page");
</script>

<div id="bbai-shadow-wrapper"></div><div id="chrome-extension-boilerplate-react-vite-content-view-root"></div></body><chatgpt-sidebar data-gpts-theme="light"></chatgpt-sidebar></html>